
PROBANDO CREACION DE USUARIO

en bash
curl -i -X POST http://localhost:3000/usersManagerr \
  -H "Content-Type: application/json" \
  -d '{
    "usuario":"admin",
    "password":"AdminPass123!",
    "primer_nombre":"Admin",
    "primer_apellido":"Root",
    "tipo_documento":"CC",
    "numero_documento":"0001",
    "correo":"admin@example.com",
    "rol":"admin",
    "tipoUsuario":"sistema"
  }'


en powershell
Invoke-RestMethod -Uri http://localhost:3000/usersManager -Method Post -ContentType 'application/json' -Body '{
  "usuario":"admin",
  "password":"AdminPass123!",
  "primer_nombre":"Admin",
  "primer_apellido":"Root",
  "tipo_documento":"CC",
  "numero_documento":"0001",
  "correo":"admin@example.com",
  "id_rol":"3",
  "tipoUsuario":"sistema"
}'


PROBANDO GENERACION DE JWT
bash

resp=$(curl -s -X POST http://localhost:3000/auth/login \
  -H "Content-Type: application/json" \
  -d '{"identificador":"admin","contrasena":"AdminPass123!"}')
echo "$resp"          # ver respuesta completa
token=$(echo "$resp" | jq -r .token)
echo "TOKEN: $token"

powershell

$resp = Invoke-RestMethod -Uri http://localhost:3000/auth/login -Method Post -ContentType 'application/json' -Body '{"identificador":"admin","contrasena":"AdminPass123!"}'
$token = $resp.token
$token

llamada usando el enpoint protegido

bash
curl -i -H "Authorization: Bearer $token" http://localhost:3000/users
powershell
Invoke-RestMethod -Uri http://localhost:3000/users -Headers @{ Authorization = "Bearer $token" } -Method Get